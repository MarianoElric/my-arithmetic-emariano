stages:
  - test

test:
  stage: test
  image: python:3.10-slim
  script:
    - pip install hatch
    - hatch test --cov
  coverage: '/TOTAL.*?(\d+\%)$/'
  tags:
    - docker
